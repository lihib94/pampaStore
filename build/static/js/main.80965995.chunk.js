(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{11:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(8),r=Object(a.b)({name:"cart",initialState:{items:[],totalQuantity:0,changed:!1,totalAmount:0},reducers:{replaceCart:function(t,e){t.totalQuantity=e.payload.totalQuantity,t.items=e.payload.items},addItemToCart:function(t,e){var n=e.payload,a=t.items.find((function(t){return t.id===n.id}));t.totalQuantity++,t.changed=!0,t.totalAmount=t.totalAmount+n.price,a?(a.quantity++,a.totalPrice=a.totalPrice+n.price):t.items.push({id:n.id,price:n.price,quantity:1,totalPrice:n.price,name:n.title})},removeItemFromCart:function(t,e){var n=e.payload,a=t.items.find((function(t){return t.id===n}));1===+t.totalQuantity?t.totalAmount=0:t.totalAmount=t.totalAmount-a.price,t.totalQuantity--,t.changed=!0,1===a.quantity?t.items=t.items.filter((function(t){return t.id!==n})):(a.quantity--,a.totalPrice=a.totalPrice-a.price)}}}),c=r.actions;e.b=r},28:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a=n(12),r=n.n(a),c=n(7),i=(n(28),n(0)),u=n.n(i),o=n(1),s=n(9),l=n(5),b=n.n(l),f=n(10),d=n(11),p=n(2),j=u.a.lazy((function(){return n.e(5).then(n.bind(null,57))})),h=u.a.lazy((function(){return n.e(3).then(n.bind(null,58))})),m=u.a.lazy((function(){return n.e(4).then(n.bind(null,59))})),x=u.a.lazy((function(){return n.e(6).then(n.bind(null,60))})),O=u.a.lazy((function(){return Promise.all([n.e(9),n.e(10)]).then(n.bind(null,64))})),y=u.a.lazy((function(){return n.e(7).then(n.bind(null,62))})),v=u.a.lazy((function(){return n.e(8).then(n.bind(null,63))})),g=u.a.lazy((function(){return n.e(11).then(n.bind(null,61))})),w=!0;var k=function(){var t=Object(c.b)(),e=Object(c.c)((function(t){return t.ui.cartIsVisible})),n=Object(c.c)((function(t){return t.cart}));return Object(i.useEffect)((function(){t(function(){var t=Object(f.a)(b.a.mark((function t(e){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(f.a)(b.a.mark((function t(){var e,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://react-http-a049b-default-rtdb.firebaseio.com/cart.json");case 2:if((e=t.sent).ok){t.next=5;break}throw new Error("Could not fetch cart data!");case 5:return t.next=7,e.json();case 7:return n=t.sent,t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,n();case 4:a=t.sent,e(d.a.replaceCart({items:a.items||[],totalQuantity:a.totalQuantity})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("failed try and catch");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(i.useEffect)((function(){w?w=!1:n.changed&&t(function(t){return function(){var e=Object(f.a)(b.a.mark((function e(n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-http-a049b-default-rtdb.firebaseio.com/cart.json",{method:"PUT",body:JSON.stringify({items:t.items,totalQuantity:t.totalQuantity})});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Sending cart data failed.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,a();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("failed try and catch");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()}(n))}),[n,t]),Object(p.jsx)(i.Fragment,{children:Object(p.jsxs)(i.Suspense,{fallback:Object(p.jsx)("p",{children:"Loading..."}),children:[Object(p.jsx)(v,{}),Object(p.jsx)(y,{open:e,onClose:function(){return t(s.b.cartToFalse())}}),Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{path:"/",element:Object(p.jsx)(o.a,{replace:!0,to:"home"})}),Object(p.jsx)(o.b,{path:"/home",element:Object(p.jsx)(O,{})}),Object(p.jsx)(o.b,{path:"/pampas",element:Object(p.jsx)(j,{})}),Object(p.jsx)(o.b,{path:"/Candles",element:Object(p.jsx)(h,{})}),Object(p.jsx)(o.b,{path:"/Urns",element:Object(p.jsx)(x,{})}),Object(p.jsx)(o.b,{path:"/Garland",element:Object(p.jsx)(m,{})}),Object(p.jsx)(o.b,{path:"*",element:Object(p.jsx)(g,{})})]})]})})},Q=n(8),z=Object(Q.a)({reducer:{ui:s.a.reducer,cart:d.b.reducer}}),I=n(14);r.a.render(Object(p.jsx)(I.a,{children:Object(p.jsx)(c.a,{store:z,children:Object(p.jsx)(k,{})})}),document.getElementById("root"))},9:function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var a=n(8),r=Object(a.b)({name:"ui",initialState:{cartIsVisible:!1},reducers:{toggle:function(t){t.cartIsVisible=!t.cartIsVisible},cartToFalse:function(t){t.cartIsVisible=!1}}}),c=r.actions;e.a=r}},[[31,1,2]]]);
//# sourceMappingURL=main.80965995.chunk.js.map